<!DOCTYPE html>
<html lang="fa" dir="rtl" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูพูู ูุฏุฑุช - ุณููุง ุฏุงูููุฏ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css');
        
        * {
            font-family: 'Vazir', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d1b1b 50%, #1a1a1a 100%);
        }
        
        .admin-card {
            transition: all 0.3s ease;
            background: linear-gradient(145deg, #374151, #1f2937);
        }
        
        .admin-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(220, 38, 38, 0.2);
        }
        
        .sidebar-item {
            transition: all 0.3s ease;
        }
        
        .sidebar-item:hover {
            background: linear-gradient(90deg, rgba(220, 38, 38, 0.2), rgba(239, 68, 68, 0.1));
            border-right: 4px solid #dc2626;
        }
        
        .sidebar-item.active {
            background: linear-gradient(90deg, rgba(220, 38, 38, 0.3), rgba(239, 68, 68, 0.2));
            border-right: 4px solid #dc2626;
        }
        
        .notification {
            animation: slideIn 0.3s ease-out;
        }
        
        .download-link-item {
            background: rgba(55, 65, 81, 0.5);
            border: 1px solid #4b5563;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body class="h-full bg-black text-white">
    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-full flex items-center justify-center bg-gradient-to-br from-black via-gray-900 to-black">
        <div class="max-w-md w-full mx-4">
            <div class="bg-gray-900 p-8 rounded-lg border border-red-500 shadow-2xl">
                <div class="text-center mb-8">
                    <div class="text-4xl mb-4">๐</div>
                    <h2 class="text-2xl font-bold text-white">ูพูู ูุฏุฑุช</h2>
                    <p class="text-gray-400 mt-2">ุณููุง ุฏุงูููุฏ</p>
                </div>
                
                <form id="adminLoginForm" class="space-y-6">
                    <div>
                        <label for="adminUsername" class="block text-white font-medium mb-2">ูุงู ฺฉุงุฑุจุฑ:</label>
                        <input type="text" id="adminUsername" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500" placeholder="ูุงู ฺฉุงุฑุจุฑ" required>
                    </div>
                    
                    <div>
                        <label for="adminPassword" class="block text-white font-medium mb-2">ุฑูุฒ ุนุจูุฑ:</label>
                        <input type="password" id="adminPassword" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500" placeholder="ุฑูุฒ ุนุจูุฑ" required>
                    </div>
                    
                    <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition-colors">
                        ูุฑูุฏ ุจู ูพูู
                    </button>
                </form>
                
                <div class="mt-6 text-center">
                    <a href="index.html" class="text-red-400 hover:text-red-300 text-sm">ุจุงุฒฺฏุดุช ุจู ุณุงุช ุงุตู</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="hidden min-h-full">
        <!-- Header -->
        <header class="gradient-bg shadow-lg border-b border-red-500">
            <div class="px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <div class="text-2xl">๐</div>
                        <div>
                            <h1 class="text-xl font-bold text-red-400">ูพูู ูุฏุฑุช</h1>
                            <p class="text-gray-400 text-sm">ุณููุง ุฏุงูููุฏ</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <div class="text-sm text-gray-400">
                            <span id="currentDateTime"></span>
                        </div>
                        <button id="logoutBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors">
                            ุฎุฑูุฌ
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <div class="flex h-screen">
            <!-- Sidebar -->
            <aside class="w-64 bg-gray-900 border-l border-red-500">
                <nav class="mt-6">
                    <div class="px-4 space-y-2">
                        <button class="sidebar-item active w-full text-right px-4 py-3 text-white rounded-lg" data-section="dashboard">
                            ๐ ุฏุงุดุจูุฑุฏ
                        </button>
                        <button class="sidebar-item w-full text-right px-4 py-3 text-white rounded-lg" data-section="movies">
                            ๐ฌ ูุฏุฑุช ูููโูุง
                        </button>
                        <button class="sidebar-item w-full text-right px-4 py-3 text-white rounded-lg" data-section="series">
                            ๐บ ูุฏุฑุช ุณุฑุงูโูุง
                        </button>
                        <button class="sidebar-item w-full text-right px-4 py-3 text-white rounded-lg" data-section="users">
                            ๐ฅ ูุฏุฑุช ฺฉุงุฑุจุฑุงู
                        </button>
                        <button class="sidebar-item w-full text-right px-4 py-3 text-white rounded-lg" data-section="settings">
                            โ๏ธ ุชูุธูุงุช
                        </button>
                    </div>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 overflow-y-auto bg-gray-800">
                <!-- Dashboard Section -->
                <div id="dashboardSection" class="section-content p-6">
                    <h2 class="text-2xl font-bold text-white mb-6">ุฏุงุดุจูุฑุฏ ูุฏุฑุช</h2>
                    
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="admin-card p-6 rounded-lg border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">ฺฉู ูููโูุง</p>
                                    <p class="text-2xl font-bold text-white" id="totalMovies">0</p>
                                </div>
                                <div class="text-3xl">๐ฌ</div>
                            </div>
                        </div>
                        
                        <div class="admin-card p-6 rounded-lg border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">ฺฉู ุณุฑุงูโูุง</p>
                                    <p class="text-2xl font-bold text-white" id="totalSeries">0</p>
                                </div>
                                <div class="text-3xl">๐บ</div>
                            </div>
                        </div>
                        
                        <div class="admin-card p-6 rounded-lg border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">ฺฉู ฺฉุงุฑุจุฑุงู</p>
                                    <p class="text-2xl font-bold text-white" id="totalUsers">0</p>
                                </div>
                                <div class="text-3xl">๐ฅ</div>
                            </div>
                        </div>
                        
                        <div class="admin-card p-6 rounded-lg border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">ฺฉู ุฏุงูููุฏูุง</p>
                                    <p class="text-2xl font-bold text-white" id="totalDownloads">0</p>
                                </div>
                                <div class="text-3xl">โฌ๏ธ</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Movies Section -->
                <div id="moviesSection" class="section-content hidden p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold text-white">ูุฏุฑุช ูููโูุง</h2>
                        <button id="addMovieBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors">
                            โ ุงูุฒูุฏู ููู
                        </button>
                    </div>

                    <!-- Movies Table -->
                    <div class="bg-gray-900 rounded-lg border border-gray-700 overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800">
                                    <tr>
                                        <th class="px-6 py-3 text-right text-white font-medium">ูุงู ููู</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ฺุงูุฑ</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ุณุงู</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ฺฉูุชโูุง</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ุฏุงูููุฏ</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ุนููุงุช</th>
                                    </tr>
                                </thead>
                                <tbody id="moviesTableBody" class="divide-y divide-gray-700">
                                    <!-- Movies will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Series Section -->
                <div id="seriesSection" class="section-content hidden p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold text-white">ูุฏุฑุช ุณุฑุงูโูุง</h2>
                        <button id="addSeriesBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors">
                            โ ุงูุฒูุฏู ุณุฑุงู
                        </button>
                    </div>

                    <!-- Series Table -->
                    <div class="bg-gray-900 rounded-lg border border-gray-700 overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800">
                                    <tr>
                                        <th class="px-6 py-3 text-right text-white font-medium">ูุงู ุณุฑุงู</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ฺุงูุฑ</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ุณุงู</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ูุตู</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ฺฉูุชโูุง</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ุนููุงุช</th>
                                    </tr>
                                </thead>
                                <tbody id="seriesTableBody" class="divide-y divide-gray-700">
                                    <!-- Series will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Users Section -->
                <div id="usersSection" class="section-content hidden p-6">
                    <h2 class="text-2xl font-bold text-white mb-6">ูุฏุฑุช ฺฉุงุฑุจุฑุงู</h2>
                    
                    <div class="bg-gray-900 rounded-lg border border-gray-700 overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800">
                                    <tr>
                                        <th class="px-6 py-3 text-right text-white font-medium">ูุงู ฺฉุงุฑุจุฑ</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ุงูู</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ุชุงุฑุฎ ุนุถูุช</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ููุน ุงุดุชุฑุงฺฉ</th>
                                        <th class="px-6 py-3 text-right text-white font-medium">ูุถุนุช</th>
                                    </tr>
                                </thead>
                                <tbody id="usersTableBody" class="divide-y divide-gray-700">
                                    <!-- Users will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Settings Section -->
                <div id="settingsSection" class="section-content hidden p-6">
                    <h2 class="text-2xl font-bold text-white mb-6">ุชูุธูุงุช ุณุงุช</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-gray-900 rounded-lg border border-gray-700 p-6">
                            <h3 class="text-xl font-bold text-white mb-4">ููุช ุงุดุชุฑุงฺฉโูุง</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-white mb-2">ุงุดุชุฑุงฺฉ ูุงูุงูู (ุชููุงู):</label>
                                    <input type="number" id="monthlyPrice" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                </div>
                                <div>
                                    <label class="block text-white mb-2">ุงุดุชุฑุงฺฉ ุณุงูุงูู (ุชููุงู):</label>
                                    <input type="number" id="yearlyPrice" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                </div>
                                <div>
                                    <label class="block text-white mb-2">ุงุดุชุฑุงฺฉ VIP (ุชููุงู):</label>
                                    <input type="number" id="vipPrice" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                </div>
                                <button id="savePricesBtn" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors">
                                    ุฐุฎุฑู ููุชโูุง
                                </button>
                            </div>
                        </div>
                        
                        <div class="bg-gray-900 rounded-lg border border-gray-700 p-6">
                            <h3 class="text-xl font-bold text-white mb-4">ุชูุธูุงุช ุนููู</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-white mb-2">ูุงู ุณุงุช:</label>
                                    <input type="text" id="siteName" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                </div>
                                <div>
                                    <label class="block text-white mb-2">ุชูุถุญุงุช ุณุงุช:</label>
                                    <textarea id="siteDescription" rows="3" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"></textarea>
                                </div>
                                <button id="saveSettingsBtn" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors">
                                    ุฐุฎุฑู ุชูุธูุงุช
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Add Movie Modal -->
    <div id="addMovieModal" class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4">
        <div class="bg-gray-900 rounded-lg max-w-4xl w-full border border-red-500 max-h-96 overflow-y-auto">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-white">ุงูุฒูุฏู ููู ุฌุฏุฏ</h3>
                    <button onclick="closeModal('addMovieModal')" class="text-red-400 hover:text-red-300 text-2xl">โ</button>
                </div>
                
                <form id="addMovieForm" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-white mb-2">ูุงู ููู:</label>
                            <input type="text" name="name" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ูุงู ุงูฺฏูุณ:</label>
                            <input type="text" name="nameEn" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ฺุงูุฑ:</label>
                            <select name="genre" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                <option value="">ุงูุชุฎุงุจ ฺุงูุฑ</option>
                                <option value="ุงฺฉุดู">ุงฺฉุดู</option>
                                <option value="ฺฉูุฏ">ฺฉูุฏ</option>
                                <option value="ุฏุฑุงู">ุฏุฑุงู</option>
                                <option value="ุชุฑุณูุงฺฉ">ุชุฑุณูุงฺฉ</option>
                                <option value="ูุงูุชุฒ">ูุงูุชุฒ</option>
                                <option value="ุฌูุง">ุฌูุง</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-white mb-2">ุณุงู:</label>
                            <input type="number" name="year" required min="1900" max="2030" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ฺฉุดูุฑ:</label>
                            <input type="text" name="country" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ฺฉุงุฑฺฏุฑุฏุงู:</label>
                            <input type="text" name="director" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ุงูุชุงุฒ:</label>
                            <input type="number" step="0.1" min="0" max="10" name="rating" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ูุฏุช ุฒูุงู (ุฏููู):</label>
                            <input type="number" name="duration" min="1" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-white mb-2">ุจุงุฒฺฏุฑุงู:</label>
                        <input type="text" name="stars" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                    </div>
                    
                    <div>
                        <label class="block text-white mb-2">ุฎูุงุตู ุฏุงุณุชุงู:</label>
                        <textarea name="description" rows="3" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"></textarea>
                    </div>
                    
                    <!-- Download Links Section -->
                    <div class="bg-gray-800 rounded-lg p-4 mb-4">
                        <h4 class="text-white font-bold mb-4 flex items-center">
                            ๐ ููฺฉโูุง ุฏุงูููุฏ
                            <button type="button" id="addMovieDownloadLink" class="mr-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                โ ุงูุฒูุฏู ููฺฉ
                            </button>
                        </h4>
                        <div id="movieDownloadLinks" class="space-y-3">
                            <div class="download-link-item">
                                <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
                                    <div>
                                        <label class="block text-white mb-1 text-sm">ฺฉูุช:</label>
                                        <select name="downloadQuality[]" class="w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500">
                                            <option value="480p">480p</option>
                                            <option value="720p">720p</option>
                                            <option value="1080p" selected>1080p</option>
                                            <option value="4K">4K</option>
                                            <option value="BluRay">BluRay</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-white mb-1 text-sm">ุญุฌู ูุงู:</label>
                                        <input type="text" name="downloadSize[]" placeholder="ูุซุงู: 2.5 GB" class="w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500">
                                    </div>
                                    <div>
                                        <label class="block text-white mb-1 text-sm">ููฺฉ ุฏุงูููุฏ:</label>
                                        <input type="url" name="downloadLink[]" placeholder="https://example.com/download" class="w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500">
                                    </div>
                                    <div class="flex items-end">
                                        <button type="button" onclick="removeDownloadLink(this)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-sm transition-colors">
                                            ๐๏ธ ุญุฐู
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-white mb-2">ุฏูุจูู:</label>
                            <select name="dubbed" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                <option value="ุฏูุจูู ูุงุฑุณ">ุฏูุจูู ูุงุฑุณ</option>
                                <option value="ุฒุฑููุณ ูุงุฑุณ">ุฒุฑููุณ ูุงุฑุณ</option>
                                <option value="ุฏูุจูู ู ุฒุฑููุณ">ุฏูุจูู ู ุฒุฑููุณ</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-white mb-2">ููุน:</label>
                            <select name="type" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                <option value="free">ุฑุงฺฏุงู</option>
                                <option value="premium">ูพุฑููู</option>
                                <option value="vip">VIP</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-white mb-2">ูุถุนุช:</label>
                            <select name="status" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                <option value="active">ูุนุงู</option>
                                <option value="inactive">ุบุฑูุนุงู</option>
                                <option value="pending">ุฏุฑ ุงูุชุธุงุฑ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="flex gap-3 pt-4">
                        <button type="submit" class="flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors">
                            ุงูุฒูุฏู ููู
                        </button>
                        <button type="button" onclick="closeModal('addMovieModal')" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors">
                            ุงูุตุฑุงู
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Series Modal -->
    <div id="addSeriesModal" class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4">
        <div class="bg-gray-900 rounded-lg max-w-4xl w-full border border-red-500 max-h-96 overflow-y-auto">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-white">ุงูุฒูุฏู ุณุฑุงู ุฌุฏุฏ</h3>
                    <button onclick="closeModal('addSeriesModal')" class="text-red-400 hover:text-red-300 text-2xl">โ</button>
                </div>
                
                <form id="addSeriesForm" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-white mb-2">ูุงู ุณุฑุงู:</label>
                            <input type="text" name="name" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ูุงู ุงูฺฏูุณ:</label>
                            <input type="text" name="nameEn" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ฺุงูุฑ:</label>
                            <select name="genre" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                <option value="">ุงูุชุฎุงุจ ฺุงูุฑ</option>
                                <option value="ุงฺฉุดู">ุงฺฉุดู</option>
                                <option value="ฺฉูุฏ">ฺฉูุฏ</option>
                                <option value="ุฏุฑุงู">ุฏุฑุงู</option>
                                <option value="ุชุฑุณูุงฺฉ">ุชุฑุณูุงฺฉ</option>
                                <option value="ูุงูุชุฒ">ูุงูุชุฒ</option>
                                <option value="ุฌูุง">ุฌูุง</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-white mb-2">ุณุงู:</label>
                            <input type="number" name="year" required min="1900" max="2030" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ุชุนุฏุงุฏ ูุตู:</label>
                            <input type="number" name="seasons" required min="1" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ุชุนุฏุงุฏ ูุณูุช:</label>
                            <input type="number" name="episodes" required min="1" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ฺฉุดูุฑ:</label>
                            <input type="text" name="country" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-white mb-2">ุงูุชุงุฒ:</label>
                            <input type="number" step="0.1" min="0" max="10" name="rating" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-white mb-2">ฺฉุงุฑฺฏุฑุฏุงู:</label>
                        <input type="text" name="director" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                    </div>
                    
                    <div>
                        <label class="block text-white mb-2">ุจุงุฒฺฏุฑุงู:</label>
                        <input type="text" name="stars" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                    </div>
                    
                    <div>
                        <label class="block text-white mb-2">ุฎูุงุตู ุฏุงุณุชุงู:</label>
                        <textarea name="description" rows="3" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"></textarea>
                    </div>
                    
                    <!-- Download Links Section for Series -->
                    <div class="bg-gray-800 rounded-lg p-4 mb-4">
                        <h4 class="text-white font-bold mb-4 flex items-center">
                            ๐ ููฺฉโูุง ุฏุงูููุฏ
                            <button type="button" id="addSeriesDownloadLink" class="mr-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                โ ุงูุฒูุฏู ููฺฉ
                            </button>
                        </h4>
                        <div id="seriesDownloadLinks" class="space-y-3">
                            <div class="download-link-item">
                                <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
                                    <div>
                                        <label class="block text-white mb-1 text-sm">ฺฉูุช:</label>
                                        <select name="downloadQuality[]" class="w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500">
                                            <option value="480p">480p</option>
                                            <option value="720p">720p</option>
                                            <option value="1080p" selected>1080p</option>
                                            <option value="4K">4K</option>
                                            <option value="BluRay">BluRay</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-white mb-1 text-sm">ุญุฌู ูุงู:</label>
                                        <input type="text" name="downloadSize[]" placeholder="ูุซุงู: 15 GB (ฺฉู ูุตู)" class="w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500">
                                    </div>
                                    <div>
                                        <label class="block text-white mb-1 text-sm">ููฺฉ ุฏุงูููุฏ:</label>
                                        <input type="url" name="downloadLink[]" placeholder="https://example.com/download" class="w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500">
                                    </div>
                                    <div class="flex items-end">
                                        <button type="button" onclick="removeDownloadLink(this)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-sm transition-colors">
                                            ๐๏ธ ุญุฐู
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-white mb-2">ุฏูุจูู:</label>
                            <select name="dubbed" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                <option value="ุฏูุจูู ูุงุฑุณ">ุฏูุจูู ูุงุฑุณ</option>
                                <option value="ุฒุฑููุณ ูุงุฑุณ">ุฒุฑููุณ ูุงุฑุณ</option>
                                <option value="ุฏูุจูู ู ุฒุฑููุณ">ุฏูุจูู ู ุฒุฑููุณ</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-white mb-2">ููุน:</label>
                            <select name="type" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                <option value="free">ุฑุงฺฏุงู</option>
                                <option value="premium">ูพุฑููู</option>
                                <option value="vip">VIP</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-white mb-2">ูุถุนุช:</label>
                            <select name="status" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500">
                                <option value="active">ูุนุงู</option>
                                <option value="inactive">ุบุฑูุนุงู</option>
                                <option value="pending">ุฏุฑ ุงูุชุธุงุฑ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="flex gap-3 pt-4">
                        <button type="submit" class="flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors">
                            ุงูุฒูุฏู ุณุฑุงู
                        </button>
                        <button type="button" onclick="closeModal('addSeriesModal')" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors">
                            ุงูุตุฑุงู
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Data Management System
        class DataManager {
            constructor() {
                this.storageKey = 'cinemaDownloadData';
                this.init();
            }

            init() {
                if (!this.getData()) {
                    this.setDefaultData();
                }
            }

            getData() {
                try {
                    const data = localStorage.getItem(this.storageKey);
                    return data ? JSON.parse(data) : null;
                } catch (error) {
                    console.error('Error loading data:', error);
                    return null;
                }
            }

            saveData(data) {
                try {
                    localStorage.setItem(this.storageKey, JSON.stringify(data));
                    window.dispatchEvent(new StorageEvent('storage', {
                        key: this.storageKey,
                        newValue: JSON.stringify(data)
                    }));
                    return true;
                } catch (error) {
                    console.error('Error saving data:', error);
                    return false;
                }
            }

            setDefaultData() {
                const defaultData = {
                    movies: [
                        {
                            id: 1,
                            name: 'ุงููุฌุฑุฒ: ูพุงุงู ุจุงุฒ',
                            nameEn: 'Avengers: Endgame',
                            genre: 'ุงฺฉุดู',
                            year: 2019,
                            country: 'ุขูุฑฺฉุง',
                            director: 'ุจุฑุงุฏุฑุงู ุฑูุณู',
                            stars: 'ุฑุงุจุฑุช ุฏุงูู ุฌูููุฑุ ฺฉุฑุณ ุงูุงูุฒ',
                            rating: 8.4,
                            duration: 181,
                            quality: '4K, 1080p, 720p',
                            dubbed: 'ุฏูุจูู ูุงุฑุณ',
                            type: 'premium',
                            status: 'active',
                            downloads: 15420,
                            views: 45230,
                            description: 'ูุจุฑุฏ ููุง ููุฑูุงูุงู ุจุง ุชุงููุณ',
                            poster: '๐ฆธโโ๏ธ',
                            addedDate: 'ฑดฐณ/ฐถ/ฑต',
                            category: 'movie',
                            downloadLinks: [
                                { quality: '4K', size: '8.5 GB', link: 'https://example.com/avengers-4k' },
                                { quality: '1080p', size: '3.2 GB', link: 'https://example.com/avengers-1080p' },
                                { quality: '720p', size: '1.8 GB', link: 'https://example.com/avengers-720p' }
                            ]
                        },
                        {
                            id: 2,
                            name: 'ุฌูฺฉุฑ',
                            nameEn: 'Joker',
                            genre: 'ุฏุฑุงู',
                            year: 2019,
                            country: 'ุขูุฑฺฉุง',
                            director: 'ุชุงุฏ ูููพุณ',
                            stars: 'ุฎูุงฺฉู ููฺฉุณุ ุฑุงุจุฑุช ุฏูุฑู',
                            rating: 8.5,
                            duration: 122,
                            quality: '1080p, 720p',
                            dubbed: 'ุฒุฑููุณ ูุงุฑุณ',
                            type: 'vip',
                            status: 'active',
                            downloads: 12890,
                            views: 38450,
                            description: 'ุฏุงุณุชุงู ุชุจุฏู ุขุฑุชูุฑ ุจู ุฌูฺฉุฑ',
                            poster: '๐',
                            addedDate: 'ฑดฐณ/ฐถ/ฒฐ',
                            category: 'movie',
                            downloadLinks: [
                                { quality: '1080p', size: '2.8 GB', link: 'https://example.com/joker-1080p' },
                                { quality: '720p', size: '1.5 GB', link: 'https://example.com/joker-720p' }
                            ]
                        }
                    ],
                    series: [
                        {
                            id: 1,
                            name: 'ุจุงุฒ ุชุงุฌ ู ุชุฎุช',
                            nameEn: 'Game of Thrones',
                            genre: 'ูุงูุชุฒ',
                            year: 2011,
                            country: 'ุขูุฑฺฉุง',
                            director: 'ุฏูุฏ ุจููู',
                            stars: 'ูพุชุฑ ุฏูฺฉูุฌุ ุงููุง ฺฉูุงุฑฺฉ',
                            rating: 9.3,
                            seasons: 8,
                            episodes: 73,
                            quality: '1080p, 720p',
                            dubbed: 'ุฏูุจูู ูุงุฑุณ',
                            type: 'vip',
                            status: 'active',
                            downloads: 25670,
                            views: 78920,
                            description: 'ูุจุฑุฏ ุจุฑุง ุชุงุฌ ู ุชุฎุช ุขููู',
                            poster: '๐',
                            addedDate: 'ฑดฐณ/ฐต/ฑฐ',
                            category: 'series',
                            downloadLinks: [
                                { quality: '1080p', size: '45 GB (ฺฉู ุณุฑุงู)', link: 'https://example.com/got-1080p' },
                                { quality: '720p', size: '25 GB (ฺฉู ุณุฑุงู)', link: 'https://example.com/got-720p' }
                            ]
                        }
                    ],
                    users: [
                        {
                            id: 1,
                            username: 'ุนู_ุงุญูุฏ',
                            email: 'ali@example.com',
                            joinDate: 'ฑดฐณ/ฐถ/ฑฐ',
                            subscriptionType: 'vip',
                            status: 'active'
                        },
                        {
                            id: 2,
                            username: 'ูุฑู_ูุญูุฏ',
                            email: 'maryam@example.com',
                            joinDate: 'ฑดฐณ/ฐท/ฑต',
                            subscriptionType: 'premium',
                            status: 'active'
                        }
                    ],
                    settings: {
                        siteName: 'ุณููุง ุฏุงูููุฏ',
                        siteDescription: 'ุจูุชุฑู ุณุงุช ุฏุงูููุฏ ููู ู ุณุฑุงู',
                        subscriptionPrices: {
                            monthly: 50000,
                            yearly: 400000,
                            vip: 500000
                        }
                    }
                };
                this.saveData(defaultData);
                return defaultData;
            }

            addMovie(movie) {
                const data = this.getData();
                const movies = data.movies || [];
                movie.id = Math.max(...movies.map(m => m.id), 0) + 1;
                movie.addedDate = new Date().toLocaleDateString('fa-IR');
                movie.downloads = 0;
                movie.views = 0;
                movie.status = movie.status || 'active';
                movie.poster = '๐ฌ';
                movie.category = 'movie';
                
                // Process download links and set quality
                if (movie.downloadLinks && movie.downloadLinks.length > 0) {
                    movie.downloadLinks = movie.downloadLinks.filter(link => link.quality && link.link);
                    movie.quality = movie.downloadLinks.map(link => link.quality).join(', ');
                } else {
                    movie.downloadLinks = [];
                    movie.quality = '1080p';
                }
                
                movies.push(movie);
                data.movies = movies;
                return this.saveData(data);
            }

            addSeries(series) {
                const data = this.getData();
                const seriesList = data.series || [];
                series.id = Math.max(...seriesList.map(s => s.id), 0) + 1;
                series.addedDate = new Date().toLocaleDateString('fa-IR');
                series.downloads = 0;
                series.views = 0;
                series.status = series.status || 'active';
                series.poster = '๐บ';
                series.category = 'series';
                
                // Process download links and set quality
                if (series.downloadLinks && series.downloadLinks.length > 0) {
                    series.downloadLinks = series.downloadLinks.filter(link => link.quality && link.link);
                    series.quality = series.downloadLinks.map(link => link.quality).join(', ');
                } else {
                    series.downloadLinks = [];
                    series.quality = '1080p';
                }
                
                seriesList.push(series);
                data.series = seriesList;
                return this.saveData(data);
            }

            deleteMovie(id) {
                const data = this.getData();
                data.movies = data.movies.filter(m => m.id !== id);
                return this.saveData(data);
            }

            deleteSeries(id) {
                const data = this.getData();
                data.series = data.series.filter(s => s.id !== id);
                return this.saveData(data);
            }

            updateSettings(settings) {
                const data = this.getData();
                data.settings = { ...data.settings, ...settings };
                return this.saveData(data);
            }
        }

        // Initialize
        const dataManager = new DataManager();
        const ADMIN_CREDENTIALS = { username: 'admin', password: '123456' };

        // Login functionality
        document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('adminDashboard').classList.remove('hidden');
                initializeDashboard();
                showNotification('ูุฑูุฏ ูููู ุจู ูพูู ูุฏุฑุช', 'success');
            } else {
                showNotification('ูุงู ฺฉุงุฑุจุฑ ุง ุฑูุฒ ุนุจูุฑ ุงุดุชุจุงู ุงุณุช', 'error');
            }
        });

        // Logout
        document.getElementById('logoutBtn').addEventListener('click', function() {
            document.getElementById('adminDashboard').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('adminUsername').value = '';
            document.getElementById('adminPassword').value = '';
        });

        // Initialize dashboard
        function initializeDashboard() {
            updateDateTime();
            setInterval(updateDateTime, 1000);
            updateStats();
            loadMoviesTable();
            loadSeriesTable();
            loadUsersTable();
            loadSettings();
            setupEventListeners();
        }

        // Update date time
        function updateDateTime() {
            const now = new Date();
            document.getElementById('currentDateTime').textContent = now.toLocaleString('fa-IR');
        }

        // Update statistics
        function updateStats() {
            const data = dataManager.getData();
            document.getElementById('totalMovies').textContent = data.movies.length;
            document.getElementById('totalSeries').textContent = data.series.length;
            document.getElementById('totalUsers').textContent = data.users.length;
            
            const totalDownloads = data.movies.reduce((sum, movie) => sum + movie.downloads, 0) +
                                 data.series.reduce((sum, series) => sum + series.downloads, 0);
            document.getElementById('totalDownloads').textContent = totalDownloads.toLocaleString();
        }

        // Load movies table
        function loadMoviesTable() {
            const data = dataManager.getData();
            const tbody = document.getElementById('moviesTableBody');
            tbody.innerHTML = '';
            
            data.movies.forEach(movie => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-800';
                row.innerHTML = `
                    <td class="px-6 py-4">
                        <div class="text-white font-medium">${movie.name}</div>
                        <div class="text-xs text-gray-400">${movie.nameEn || ''}</div>
                    </td>
                    <td class="px-6 py-4 text-gray-400">${movie.genre}</td>
                    <td class="px-6 py-4 text-gray-400">${movie.year}</td>
                    <td class="px-6 py-4">
                        <div class="text-blue-400 text-sm">${movie.quality}</div>
                        <div class="text-xs text-gray-500">${movie.downloadLinks ? movie.downloadLinks.length : 0} ููฺฉ</div>
                    </td>
                    <td class="px-6 py-4 text-green-400">${movie.downloads.toLocaleString()}</td>
                    <td class="px-6 py-4">
                        <div class="flex space-x-2 space-x-reverse">
                            <button onclick="viewDownloadLinks(${movie.id}, 'movie')" class="bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs transition-colors">
                                ููฺฉโูุง
                            </button>
                            <button onclick="deleteMovie(${movie.id})" class="bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs transition-colors">
                                ุญุฐู
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Load series table
        function loadSeriesTable() {
            const data = dataManager.getData();
            const tbody = document.getElementById('seriesTableBody');
            tbody.innerHTML = '';
            
            data.series.forEach(series => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-800';
                row.innerHTML = `
                    <td class="px-6 py-4">
                        <div class="text-white font-medium">${series.name}</div>
                        <div class="text-xs text-gray-400">${series.nameEn || ''}</div>
                    </td>
                    <td class="px-6 py-4 text-gray-400">${series.genre}</td>
                    <td class="px-6 py-4 text-gray-400">${series.year}</td>
                    <td class="px-6 py-4 text-blue-400">${series.seasons} ูุตู</td>
                    <td class="px-6 py-4">
                        <div class="text-blue-400 text-sm">${series.quality}</div>
                        <div class="text-xs text-gray-500">${series.downloadLinks ? series.downloadLinks.length : 0} ููฺฉ</div>
                    </td>
                    <td class="px-6 py-4">
                        <div class="flex space-x-2 space-x-reverse">
                            <button onclick="viewDownloadLinks(${series.id}, 'series')" class="bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs transition-colors">
                                ููฺฉโูุง
                            </button>
                            <button onclick="deleteSeries(${series.id})" class="bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs transition-colors">
                                ุญุฐู
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Load users table
        function loadUsersTable() {
            const data = dataManager.getData();
            const tbody = document.getElementById('usersTableBody');
            tbody.innerHTML = '';
            
            data.users.forEach(user => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-800';
                row.innerHTML = `
                    <td class="px-6 py-4 text-white">${user.username}</td>
                    <td class="px-6 py-4 text-gray-400">${user.email}</td>
                    <td class="px-6 py-4 text-gray-400">${user.joinDate}</td>
                    <td class="px-6 py-4">
                        <span class="px-2 py-1 rounded text-xs ${user.subscriptionType === 'vip' ? 'bg-yellow-600' : user.subscriptionType === 'premium' ? 'bg-blue-600' : 'bg-gray-600'} text-white">
                            ${user.subscriptionType === 'vip' ? 'VIP' : user.subscriptionType === 'premium' ? 'ูพุฑููู' : 'ุฑุงฺฏุงู'}
                        </span>
                    </td>
                    <td class="px-6 py-4">
                        <span class="px-2 py-1 rounded text-xs bg-green-600 text-white">ูุนุงู</span>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Load settings
        function loadSettings() {
            const data = dataManager.getData();
            const settings = data.settings;
            
            document.getElementById('monthlyPrice').value = settings.subscriptionPrices.monthly;
            document.getElementById('yearlyPrice').value = settings.subscriptionPrices.yearly;
            document.getElementById('vipPrice').value = settings.subscriptionPrices.vip;
            document.getElementById('siteName').value = settings.siteName;
            document.getElementById('siteDescription').value = settings.siteDescription;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Sidebar navigation
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    
                    document.querySelectorAll('.section-content').forEach(section => {
                        section.classList.add('hidden');
                    });
                    
                    document.getElementById(this.dataset.section + 'Section').classList.remove('hidden');
                });
            });

            // Add movie button
            document.getElementById('addMovieBtn').addEventListener('click', function() {
                document.getElementById('addMovieModal').classList.remove('hidden');
            });

            // Add series button
            document.getElementById('addSeriesBtn').addEventListener('click', function() {
                document.getElementById('addSeriesModal').classList.remove('hidden');
            });

            // Add download link buttons
            document.getElementById('addMovieDownloadLink').addEventListener('click', function() {
                addDownloadLinkField('movieDownloadLinks');
            });

            document.getElementById('addSeriesDownloadLink').addEventListener('click', function() {
                addDownloadLinkField('seriesDownloadLinks');
            });

            // Add movie form
            document.getElementById('addMovieForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(e.target);
                const movieData = Object.fromEntries(formData.entries());
                movieData.year = parseInt(movieData.year);
                movieData.rating = parseFloat(movieData.rating) || 0;
                movieData.duration = parseInt(movieData.duration) || 0;
                
                // Process download links
                const qualities = formData.getAll('downloadQuality[]');
                const sizes = formData.getAll('downloadSize[]');
                const links = formData.getAll('downloadLink[]');
                
                movieData.downloadLinks = [];
                for (let i = 0; i < qualities.length; i++) {
                    if (qualities[i] && links[i]) {
                        movieData.downloadLinks.push({
                            quality: qualities[i],
                            size: sizes[i] || '',
                            link: links[i]
                        });
                    }
                }
                
                if (dataManager.addMovie(movieData)) {
                    loadMoviesTable();
                    updateStats();
                    closeModal('addMovieModal');
                    showNotification('ููู ุจุง ููููุช ุงุถุงูู ุดุฏ', 'success');
                    e.target.reset();
                    resetDownloadLinks('movieDownloadLinks');
                }
            });

            // Add series form
            document.getElementById('addSeriesForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(e.target);
                const seriesData = Object.fromEntries(formData.entries());
                seriesData.year = parseInt(seriesData.year);
                seriesData.rating = parseFloat(seriesData.rating) || 0;
                seriesData.seasons = parseInt(seriesData.seasons);
                seriesData.episodes = parseInt(seriesData.episodes);
                
                // Process download links
                const qualities = formData.getAll('downloadQuality[]');
                const sizes = formData.getAll('downloadSize[]');
                const links = formData.getAll('downloadLink[]');
                
                seriesData.downloadLinks = [];
                for (let i = 0; i < qualities.length; i++) {
                    if (qualities[i] && links[i]) {
                        seriesData.downloadLinks.push({
                            quality: qualities[i],
                            size: sizes[i] || '',
                            link: links[i]
                        });
                    }
                }
                
                if (dataManager.addSeries(seriesData)) {
                    loadSeriesTable();
                    updateStats();
                    closeModal('addSeriesModal');
                    showNotification('ุณุฑุงู ุจุง ููููุช ุงุถุงูู ุดุฏ', 'success');
                    e.target.reset();
                    resetDownloadLinks('seriesDownloadLinks');
                }
            });

            // Save prices
            document.getElementById('savePricesBtn').addEventListener('click', function() {
                const prices = {
                    subscriptionPrices: {
                        monthly: parseInt(document.getElementById('monthlyPrice').value),
                        yearly: parseInt(document.getElementById('yearlyPrice').value),
                        vip: parseInt(document.getElementById('vipPrice').value)
                    }
                };
                
                if (dataManager.updateSettings(prices)) {
                    showNotification('ููุชโูุง ุจุง ููููุช ุฐุฎุฑู ุดุฏ', 'success');
                }
            });

            // Save settings
            document.getElementById('saveSettingsBtn').addEventListener('click', function() {
                const settings = {
                    siteName: document.getElementById('siteName').value,
                    siteDescription: document.getElementById('siteDescription').value
                };
                
                if (dataManager.updateSettings(settings)) {
                    showNotification('ุชูุธูุงุช ุจุง ููููุช ุฐุฎุฑู ุดุฏ', 'success');
                }
            });
        }

        // Add download link field
        function addDownloadLinkField(containerId) {
            const container = document.getElementById(containerId);
            const newLinkItem = document.createElement('div');
            newLinkItem.className = 'download-link-item';
            newLinkItem.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
                    <div>
                        <label class="block text-white mb-1 text-sm">ฺฉูุช:</label>
                        <select name="downloadQuality[]" class="w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500">
                            <option value="480p">480p</option>
                            <option value="720p">720p</option>
                            <option value="1080p" selected>1080p</option>
                            <option value="4K">4K</option>
                            <option value="BluRay">BluRay</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-white mb-1 text-sm">ุญุฌู ูุงู:</label>
                        <input type="text" name="downloadSize[]" placeholder="ูุซุงู: 2.5 GB" class="w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500">
                    </div>
                    <div>
                        <label class="block text-white mb-1 text-sm">ููฺฉ ุฏุงูููุฏ:</label>
                        <input type="url" name="downloadLink[]" placeholder="https://example.com/download" class="w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500">
                    </div>
                    <div class="flex items-end">
                        <button type="button" onclick="removeDownloadLink(this)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-sm transition-colors">
                            ๐๏ธ ุญุฐู
                        </button>
                    </div>
                </div>
            `;
            container.appendChild(newLinkItem);
        }

        // Remove download link
        function removeDownloadLink(button) {
            const linkItem = button.closest('.download-link-item');
            const container = linkItem.parentNode;
            if (container.children.length > 1) {
                linkItem.remove();
            } else {
                showNotification('ุญุฏุงูู ฺฉ ููฺฉ ุฏุงูููุฏ ุจุงุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ', 'warning');
            }
        }

        // Reset download links
        function resetDownloadLinks(containerId) {
            const container = document.getElementById(containerId);
            const firstItem = container.querySelector('.download-link-item');
            container.innerHTML = '';
            container.appendChild(firstItem.cloneNode(true));
            // Clear values
            container.querySelectorAll('input, select').forEach(input => {
                if (input.type !== 'button') {
                    input.value = input.type === 'select-one' && input.name === 'downloadQuality[]' ? '1080p' : '';
                }
            });
        }

        // View download links
        function viewDownloadLinks(id, type) {
            const data = dataManager.getData();
            const item = type === 'movie' ? 
                data.movies.find(m => m.id === id) : 
                data.series.find(s => s.id === id);
            
            if (!item || !item.downloadLinks) {
                showNotification('ููฺฉ ุฏุงูููุฏ ุงูุช ูุดุฏ', 'warning');
                return;
            }

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4';
            modal.innerHTML = `
                <div class="bg-gray-900 rounded-lg max-w-2xl w-full border border-red-500 p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-white">ููฺฉโูุง ุฏุงูููุฏ: ${item.name}</h3>
                        <button onclick="this.closest('.fixed').remove()" class="text-red-400 hover:text-red-300 text-2xl">โ</button>
                    </div>
                    
                    <div class="space-y-4">
                        ${item.downloadLinks.map(link => `
                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="text-white font-medium">ฺฉูุช: ${link.quality}</div>
                                        <div class="text-gray-400 text-sm">ุญุฌู: ${link.size || 'ูุงูุดุฎุต'}</div>
                                    </div>
                                    <a href="${link.link}" target="_blank" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                                        ุฏุงูููุฏ
                                    </a>
                                </div>
                                <div class="mt-2 text-xs text-gray-500 break-all">${link.link}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="mt-6">
                        <button onclick="this.closest('.fixed').remove()" class="w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors">
                            ุจุณุชู
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Delete functions
        function deleteMovie(id) {
            if (confirm('ุขุง ุงุฒ ุญุฐู ุงู ููู ุงุทููุงู ุฏุงุฑุฏุ')) {
                if (dataManager.deleteMovie(id)) {
                    loadMoviesTable();
                    updateStats();
                    showNotification('ููู ุจุง ููููุช ุญุฐู ุดุฏ', 'success');
                }
            }
        }

        function deleteSeries(id) {
            if (confirm('ุขุง ุงุฒ ุญุฐู ุงู ุณุฑุงู ุงุทููุงู ุฏุงุฑุฏุ')) {
                if (dataManager.deleteSeries(id)) {
                    loadSeriesTable();
                    updateStats();
                    showNotification('ุณุฑุงู ุจุง ููููุช ุญุฐู ุดุฏ', 'success');
                }
            }
        }

        // Utility functions
        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const colors = {
                success: 'bg-green-600',
                error: 'bg-red-600',
                info: 'bg-blue-600',
                warning: 'bg-yellow-600'
            };
            
            notification.className = `notification fixed top-20 right-6 ${colors[type]} text-white px-6 py-3 rounded-lg shadow-lg z-50`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Listen for storage changes
        window.addEventListener('storage', function(e) {
            if (e.key === dataManager.storageKey) {
                updateStats();
                loadMoviesTable();
                loadSeriesTable();
                loadUsersTable();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99280365d1197747',t:'MTc2MTEyNTgxNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
